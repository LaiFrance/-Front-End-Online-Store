{"ast":null,"code":"var _jsxFileName = \"/home/laise/Downloads/sd-019-c-project-frontend-online-store/src/pages/paginaPrincipal.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport ProductCard from '../components/ProductCard';\nimport * as api from '../services/api';\nimport Category from '../components/Category';\nexport default class Principal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      productsArray: []\n    };\n    this.onInputChange = this.onInputChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleChoice = this.handleChoice.bind(this);\n  }\n\n  async handleSearch() {\n    const {\n      search\n    } = this.state;\n    const products = await api.getProductsByQuery(search);\n    this.setState({\n      productsArray: products.results\n    });\n  }\n\n  async handleChoice(categoryId) {\n    const products = await api.getProductsByCategory(categoryId);\n    this.setState({\n      productsArray: products.results\n    });\n  }\n\n  onInputChange(_ref) {\n    let {\n      target\n    } = _ref;\n    const {\n      value\n    } = target;\n    this.setState({\n      search: value\n    });\n  }\n\n  render() {\n    const {\n      productsArray\n    } = this.state;\n    const {\n      handleAddToCart\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Topo-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      \"data-testid\": \"home-initial-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, \"Digite algum termo de pesquisa ou escolha uma categoria.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-input-cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      ClassName: \"button-link\",\n      to: \"/shopping-cart\",\n      \"data-testid\": \"shopping-cart-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, \"\\uD83D\\uDED2 Carrinho de Compras\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"pesquisa-product\",\n      type: \"text\",\n      \"data-testid\": \"query-input\",\n      placeholder: \"Digite o produto desejado...\",\n      onChange: this.onInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"search-top-button\",\n      type: \"submit\",\n      \"data-testid\": \"query-button\",\n      onClick: this.handleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, \"Pesquisar\")), /*#__PURE__*/React.createElement(Category, {\n      handleChoice: this.handleChoice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }), productsArray.length !== 0 ? /*#__PURE__*/React.createElement(ProductCard, {\n      products: productsArray,\n      handleAddToCart: handleAddToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, \"Nenhum Produto Encontrado\"));\n  }\n\n}\nPrincipal.propTypes = {\n  handleAddToCart: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/home/laise/Downloads/sd-019-c-project-frontend-online-store/src/pages/paginaPrincipal.jsx"],"names":["React","Link","PropTypes","ProductCard","api","Category","Principal","Component","constructor","props","state","search","productsArray","onInputChange","bind","handleSearch","handleChoice","products","getProductsByQuery","setState","results","categoryId","getProductsByCategory","target","value","render","handleAddToCart","length","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport ProductCard from '../components/ProductCard';\nimport * as api from '../services/api';\nimport Category from '../components/Category';\n\nexport default class Principal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      search: '',\n      productsArray: [],\n    };\n    this.onInputChange = this.onInputChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleChoice = this.handleChoice.bind(this);\n  }\n\n  async handleSearch() {\n    const { search } = this.state;\n    const products = await api.getProductsByQuery(search);\n    this.setState({ productsArray: products.results });\n  }\n\n  async handleChoice(categoryId) {\n    const products = await api.getProductsByCategory(categoryId);\n    this.setState({ productsArray: products.results });\n  }\n\n  onInputChange({ target }) {\n    const { value } = target;\n    this.setState({ search: value });\n  }\n\n  render() {\n    const { productsArray } = this.state;\n    const { handleAddToCart } = this.props;\n    return (\n      <div className=\"Topo-nav\">\n        <h4 data-testid=\"home-initial-message\">\n          Digite algum termo de pesquisa ou escolha uma categoria.\n        </h4>\n        <div className=\"search-input-cart\">\n          <Link\n            ClassName=\"button-link\"\n            to=\"/shopping-cart\"\n            data-testid=\"shopping-cart-button\"\n          >\n            &#128722;\n            Carrinho de Compras\n          </Link>\n\n          <input\n            className=\"pesquisa-product\"\n            type=\"text\"\n            data-testid=\"query-input\"\n            placeholder=\"Digite o produto desejado...\"\n            onChange={ this.onInputChange }\n          />\n          <button\n            className=\"search-top-button\"\n            type=\"submit\"\n            data-testid=\"query-button\"\n            onClick={ this.handleSearch }\n          >\n            Pesquisar\n          </button>\n        </div>\n        <Category handleChoice={ this.handleChoice } />\n        {productsArray.length !== 0\n          ? <ProductCard products={ productsArray } handleAddToCart={ handleAddToCart } />\n          : <h2>Nenhum Produto Encontrado</h2>}\n      </div>\n    );\n  }\n}\nPrincipal.propTypes = {\n  handleAddToCart: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}